<ng-container *ngIf="!isEditEnabled">
    <nb-form-field [ngClass]="wrapperClass"
        *ngIf="!!currentForm && !!(currentForm?.form) && !!currentForm.form.controls[formFieldName]"
        [formGroup]="currentForm!.form"
        (keydown.enter)="currentForm?.HandleFormDropdownEnter($event, defaultDataCount, comboBoxData, '')">
        <div class="bbx-fd-form-field-inner-div">
            <label>{{label}}</label>

            <input class="{{TileCssClass}}" [formControlName]="formFieldName" nbInput type="text"
                (click)="currentForm?.HandleFormFieldClick($event)" [nbAutocomplete]="autoComboBoxComplete" readonly
                autocomplete="off" />
        </div>
        <app-form-control-error [form]="currentForm" [label]="label.toLowerCase()" [controlName]="formFieldName">
        </app-form-control-error>
    </nb-form-field>
    <!-- AUTOCOMPLETE -->
    <nb-autocomplete [ngClass]="wrapperClass" #autoComboBoxComplete [activeFirst]="false"
        (selectedChange)="currentForm?.HandleAutoCompleteSelect($event, formFieldName)">
    </nb-autocomplete>
</ng-container>
<ng-container *ngIf="isEditEnabled && simpleMode">
    <nb-form-field [ngClass]="wrapperClass"
        *ngIf="!!currentForm && !!(currentForm?.form) && !!currentForm.form.controls[formFieldName]"
        [formGroup]="currentForm!.form"
        (keydown.enter)="currentForm?.HandleFormDropdownEnter($event, defaultDataCount, comboBoxData, '')">
        <div class="bbx-fd-form-field-inner-div">
            <label>{{label}}</label>

            <input class="{{TileCssClass}}" [formControlName]="formFieldName" nbInput type="text"
                (click)="currentForm?.HandleFormFieldClick($event)" [nbAutocomplete]="autoComboBoxComplete"
                readonly autocomplete="off" />
        </div>
        <app-form-control-error [form]="currentForm" [label]="label.toLowerCase()" [controlName]="formFieldName">
        </app-form-control-error>
    </nb-form-field>
    <!-- AUTOCOMPLETE -->
    <nb-autocomplete [ngClass]="wrapperClass" #autoComboBoxComplete [activeFirst]="false"
        (selectedChange)="currentForm?.HandleAutoCompleteSelect($event, formFieldName)">
        <nb-option *ngFor="let option of data$ | async; let i = index" [value]="option">
            {{ option }}
        </nb-option>
    </nb-autocomplete>
</ng-container>
<ng-container *ngIf="isEditEnabled && !simpleMode">
    <nb-form-field [ngClass]="wrapperClass"
        *ngIf="!!currentForm && !!(currentForm?.form) && !!currentForm.form.controls[formFieldName]"
        [formGroup]="currentForm!.form"
        (keydown.enter)="currentForm?.HandleFormDropdownEnter($event, currentDataCount, currentFilteredData, currentTypedData)">
        <div class="bbx-fd-form-field-inner-div">
            <label>{{label}}</label>

            <input class="{{TileCssClass}}" [formControlName]="formFieldName" nbInput type="text"
                (click)="currentForm?.HandleFormFieldClick($event)" [nbAutocomplete]="autoComboBoxComplete"
                [readonly]="!isEditEnabled" autocomplete="off" />
        </div>
        <app-form-control-error [form]="currentForm" [label]="label.toLowerCase()" [controlName]="formFieldName">
        </app-form-control-error>
    </nb-form-field>
    <!-- AUTOCOMPLETE -->
    <nb-autocomplete [ngClass]="wrapperClass" #autoComboBoxComplete [activeFirst]="false"
        (selectedChange)="currentForm?.HandleAutoCompleteSelect($event, formFieldName)">
        <nb-option *ngFor="let option of filteredData$ | async; let i = index" [value]="option">
            {{ option }}
        </nb-option>
    </nb-autocomplete>
</ng-container>