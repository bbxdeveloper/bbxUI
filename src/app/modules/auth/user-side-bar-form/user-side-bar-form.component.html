<nb-card>
    <nb-card-body class="bbx-fd-ncb">
        <nb-actions *ngIf="!!currentForm" size="medium" class="bbx-fd-sidebar-functions">
            <nb-action class="{{TileCssClass}}" id="fd-form-new" class="cl-header-menu" tabIndex="1" nbTooltip="Új"
                nbTooltipStatus="primary" [icon]="{ icon: 'plus-circle-outline', pack: 'eva' }"
                (click)="currentForm.HandleFunctionKey(keyBindings.crudNew)"></nb-action>
            <nb-action class="{{TileCssClass}}" id="fd-form-reset" class="cl-header-menu" tabIndex="2"
                nbTooltip="Alaphelyzet" nbTooltipStatus="primary" [icon]="{ icon: 'flip-2-outline', pack: 'eva' }"
                (click)="currentForm.HandleFunctionKey(keyBindings.crudReset)">
            </nb-action>
            <nb-action class="{{TileCssClass}}" id="fd-form-edit" class="cl-header-menu" tabIndex="3" nbTooltip="Mentés"
                nbTooltipStatus="primary" [icon]="{ icon: 'save-outline', pack: 'eva' }"
                (click)="currentForm.HandleFunctionKey(keyBindings.crudSave)">
            </nb-action>
            <nb-action class="{{TileCssClass}}" id="fd-form-delete" class="cl-header-menu" tabIndex="4"
                nbTooltip="Törlés" nbTooltipStatus="primary" [icon]="{ icon: 'trash-2-outline', pack: 'eva' }"
                [disabled]="currentForm.isDeleteDisabled"
                (click)="currentForm.HandleFunctionKey(keyBindings.crudDelete)"></nb-action>
        </nb-actions>

        <form *ngIf="!!currentForm" id="sideBarForm" [formGroup]="currentForm.form" #formDirective="ngForm"
            (keydown.enter)="currentForm.HandleFormEnter($event)" (keydown.escape)="currentForm.HandleFormEscape()"
            (keydown.tab)="currentForm.HandleFormTab($event)" (click)="currentForm.HandleFormClick()"
            (keydown.f8)="currentForm.HandleFunctionKey($event)" (keydown.f9)="currentForm.HandleFunctionKey($event)"
            (keydown.f10)="currentForm.HandleFunctionKey($event)" (keydown.f11)="currentForm.HandleFunctionKey($event)"
            (keydown.f12)="currentForm.HandleFunctionKey($event)">

            <ng-container *ngFor="let it of currentForm.colDefs; let rowPos = index" [ngSwitch]="it.fInputType">
                <ng-container *ngSwitchCase="'text'">
                    <nb-form-field>
                        <div class="bbx-fd-form-field-inner-div">
                            <ng-container [ngSwitch]="it.fInputType">
                                <label>{{it.label}}</label>

                                <input class="{{TileCssClass}}" nbInput type="text" [formControlName]="it.objectKey"
                                    (click)="currentForm.HandleFormFieldClick($event)"
                                    [required]="it.fRequired ?? false">
                            </ng-container>
                        </div>
                    </nb-form-field>
                </ng-container>

                <ng-container *ngSwitchCase="'readonly'">
                    <nb-form-field>
                        <div class="bbx-fd-form-field-inner-div">
                            <ng-container [ngSwitch]="it.fInputType">
                                <label>{{it.label}}</label>

                                <input nbInput type="text" [formControlName]="it.objectKey"
                                    (click)="currentForm.HandleFormFieldClick($event)" readonly>
                            </ng-container>
                        </div>
                    </nb-form-field>
                </ng-container>

                <ng-container *ngSwitchCase="'password'">
                    <nb-form-field>
                        <div class="bbx-fd-form-field-inner-div">
                            <ng-container [ngSwitch]="it.fInputType">
                                <label>{{it.label}}</label>

                                <input class="{{TileCssClass}}" nbInput type="password" [formControlName]="it.objectKey"
                                    (click)="currentForm.HandleFormFieldClick($event)"
                                    [required]="it.fRequired ?? false">
                            </ng-container>
                        </div>
                    </nb-form-field>
                </ng-container>

                <div class="bbx-fd-checkbox-outer-div" *ngSwitchCase="'bool'">
                    <label>{{it.label}}</label>

                    <input class="bbx-fd-checkbox" class="{{TileCssClass}}" type="checkbox"
                        [formControlName]="it.objectKey" (click)="currentForm.HandleFormFieldClick($event)">
                </div>
            </ng-container>
        </form>
    </nb-card-body>
</nb-card>