<nb-card>
    <nb-card-body class="bbx-fd-ncb">
        <app-crud-buttons class="crud-buttons" [TileCssClass]="TileCssClass" [currentForm]="currentForm">
        </app-crud-buttons>

        <form *ngIf="!!currentForm" id="sideBarForm" [formGroup]="currentForm.form" #formDirective="ngForm"
            (keydown.escape)="currentForm.HandleFormEscape()"
            (click)="currentForm.HandleFormClick()">

            <nb-form-field>
                <div class="bbx-fd-form-field-inner-div">
                    <label>Azonosító</label>
                    <input nbInput type="text" formControlName="id" (click)="currentForm.HandleFormFieldClick($event)"
                        readonly>
                </div>
            </nb-form-field>

            <nb-form-field (keydown.enter)="currentForm.HandleFormEnter($event)">
                <div class="bbx-fd-form-field-inner-div">
                    <label>Név</label>

                    <input class="{{TileCssClass}}" nbInput type="text" formControlName="pocName"
                        (click)="currentForm.HandleFormFieldClick($event)" required>
                </div>
                <app-form-control-error [form]="currentForm" controlName="pocName"></app-form-control-error>
            </nb-form-field>

            <nb-form-field (keydown.enter)="currentForm.HandleFormEnter($event, false)">
                <div class="bbx-fd-form-field-inner-div">
                    <label>Típus</label>

                    <input class="{{TileCssClass}}" formControlName="pocType" nbInput type="text"
                        [nbAutocomplete]="auto" [readonly]="isEditModeOff" placeholder="típus" autocomplete="off"/>
                    <!-- AUTOCOMPLETE -->
                    <nb-autocomplete #auto [activeFirst]="false" (selectedChange)="currentForm.HandleAutoCompleteSelect($event, 'pocType')">
                        <nb-option *ngFor="let option of filteredPocTypes$ | async; let i = index" [value]="option.code">
                            {{ option.code }}
                        </nb-option>
                    </nb-autocomplete>
                </div>
                <app-form-control-error [form]="currentForm" controlName="pocType"></app-form-control-error>
            </nb-form-field>

            <nb-form-field (keydown.enter)="currentForm.HandleFormEnter($event)">
                <div class="bbx-fd-form-field-inner-div">
                    <label>Megjegyzés</label>

                    <input class="{{TileCssClass}}" nbInput type="text" formControlName="comment"
                        (click)="currentForm.HandleFormFieldClick($event)">
                </div>
                <app-form-control-error [form]="currentForm" controlName="comment"></app-form-control-error>
            </nb-form-field>

            <div class="bbx-fd-checkbox-outer-div" (keydown.enter)="currentForm.HandleFormLastEnter($event)">
                <label>Magánszemély</label>

                <input class="bbx-fd-checkbox" class="{{TileCssClass}}" type="checkbox" formControlName="active"
                    (click)="currentForm.HandleFormFieldClick($event)">
            </div>
            <app-form-control-error [form]="currentForm" controlName="active"></app-form-control-error>
        </form>
    </nb-card-body>
</nb-card>