<as-split direction="horizontal">
    <as-split-area [size]="50">
        <app-head-line msg="Ügyfelek kezelése"></app-head-line>

        <!-- <app-flat-design-table
            [allColumns]="allColumns"
            [colDefs]="colDefs"
            [dbDataDataSrc]="dbDataDataSrc"
            [dbDataTable]="dbDataTable"
            [dbDataTableId]="dbDataTableId"
            (focusInTable)="focusOnTable(true)"
            (focusOutTable)="focusOnTable(false)">
            <label class="search-label" for="search">Keresés név alapján:</label>
            <input nbInput id="active-prod-search" class="search-input"
                (keydown.enter)="searchInputNavigatable.HandleFormEnter($event)" (keyup)="refreshFilter($event)" autocomplete="off">
        </app-flat-design-table> -->

        <nb-card>
            <nb-card-header>
                <label class="search-label" for="search">Keresés név alapján:</label>
                <input nbInput id="active-prod-search" class="search-input"
                    (keyup)="refreshFilter($event)"
                    autocomplete="off"> <!--(keydown.enter)="searchInputNavigatable.HandleFormEnter($event)" -->
            </nb-card-header>
            <nb-card-body>
                <form>
                    <table class="card-table-wrapper" [id]="dbDataTableId" [nbTreeGrid]="dbDataDataSrc" [trackBy]="trackRows"
                        equalColumnsWidth (focusin)="focusOnTable(true)" (focusout)="focusOnTable(false)">
        
                        <tr nbTreeGridHeaderRow *nbTreeGridHeaderRowDef="allColumns"></tr>
                        <tr nbTreeGridRow *nbTreeGridRowDef="let row; columns: allColumns"></tr>
        
                        <ng-container *ngFor="let it of colDefs; let colPos = index" [nbTreeGridColumnDef]="it.colKey">
                            <ng-container [ngSwitch]="it.type">
        
                                <th nbTreeGridHeaderCell *nbTreeGridHeaderCellDef [style.width]="it.colWidth">
                                    {{it.label}}
                                </th>
        
                                <ng-container *ngSwitchCase="'string'">
                                    <td [tabindex]="row.tabindex" class="td-focusable" nbTreeGridCell
                                        *nbTreeGridCellDef="let row; let rowPos = index"
                                        (keydown.escape)="dbDataTable.handleGridEscape(row, rowPos, it.objectKey, colPos)"
                                        (keydown.f12)="dbDataTable.HandleKey($event)"
                                        (keydown.tab)="dbDataTable.handleGridTab($event)"
                                        (click)="dbDataTable.handleGridClick(row, rowPos, it.objectKey, colPos)"
                                        [style.width]="it.colWidth" [style.text-align]="it.textAlign"
                                        class="{{it.navMatrixCssClass}}">
                                        <div>
                                            {{ row.data[it.objectKey] }}
                                        </div>
                                    </td>
                                </ng-container>
        
                                <ng-container *ngSwitchCase="'bool'">
                                    <td [tabindex]="row.tabindex" class="td-focusable" nbTreeGridCell
                                        *nbTreeGridCellDef="let row; let rowPos = index"
                                        (keydown.escape)="dbDataTable.handleGridEscape(row, rowPos, it.objectKey, colPos)"
                                        (keydown.f12)="dbDataTable.HandleKey($event)"
                                        (keydown.tab)="dbDataTable.handleGridTab($event)"
                                        (click)="dbDataTable.handleGridClick(row, rowPos, it.objectKey, colPos)"
                                        [style.width]="it.colWidth" [style.text-align]="it.textAlign"
                                        class="{{it.navMatrixCssClass}}">
                                        <div>
                                            {{ row.data[it.objectKey] ? '&check;' : '&times;' }}
                                        </div>
                                    </td>
                                </ng-container>
        
                            </ng-container>
                        </ng-container>
                    </table>
                </form>
            </nb-card-body>
            <nb-card-footer>
                <div>
                    <span (click)="dbDataTable.firstPage()">&lt;&lt;</span>
                    <span (click)="dbDataTable.previousPage()">&lt;</span>
                    <span>{{dbDataTable.currentPage}} / {{dbDataTable.allPages}}</span>
                    <span (click)="dbDataTable.nextPage()">&gt;&gt;</span>
                    <span (click)="dbDataTable.lastPage()">&gt;</span>
                </div>
                <span *ngIf="this.dbData.length === 0" class="msg">Nincs megjeleníthető adat!</span>
            </nb-card-footer>
        </nb-card>

    </as-split-area>
    <as-split-area [size]="50" *ngIf="isSideBarOpened">
        <app-customer-side-bar-form class="bbx-customer-sidebar"></app-customer-side-bar-form>
    </as-split-area>
</as-split>